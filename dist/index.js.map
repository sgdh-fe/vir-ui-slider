{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import Vir from 'vir'\nimport $ from 'jquery'\n\nexport default function (options = {}) {\n  return Vir({\n    data: {\n      index: 0,\n      lock: false\n    },\n    events: {\n      'click->.prev': 'prev',\n      'click->.next': 'next'\n    },\n    validate: {\n      index() {\n        if (this.get('lock')) {\n          return false\n        }\n      }\n    },\n    watch: {\n      index(result) {\n        let index = result.value\n        this.set('lock', true)\n        this.$$('ul').animate({\n          left: index * -100 + '%'\n        }, 500, () => {\n          this.set('lock', false)\n        })\n      }\n    },\n    methods: {\n      index(index) {\n        let len = this.get('len')\n        return index < 0 ? (len - 1) : (index >= len ? 0 : index)\n      },\n      run(index) {\n        this.set('index', this.index(index))\n      },\n      prev() {\n        this.run(this.get('index') - 1)\n      },\n      next() {\n        this.run(this.get('index') + 1)\n      }\n    },\n    init() {\n      let len = this.$$('ul > li').length\n      this.set('len', len)\n      this.$$('ul').css('width', 100 * len + '%')\n      this.$$('ul > li').css('width', 100 / len + '%')\n    }\n  })\n}"],"names":["options","Vir","get","result","index","value","set","$$","animate","len","run","length","css"],"mappings":";;;;;;;;;;;;;;;;AAGA,YAAe,YAAwB;MAAdA,OAAc,uEAAJ,EAAI;;SAC9BC,IAAI;UACH;aACG,CADH;YAEE;KAHC;YAKD;sBACU,MADV;sBAEU;KAPT;cASC;WAAA,mBACA;YACF,KAAKC,GAAL,CAAS,MAAT,CAAJ,EAAsB;iBACb,KAAP;;;KAZG;WAgBF;WAAA,iBACCC,MADD,EACS;;;YACRC,QAAQD,OAAOE,KAAnB;aACKC,GAAL,CAAS,MAAT,EAAiB,IAAjB;aACKC,EAAL,CAAQ,IAAR,EAAcC,OAAd,CAAsB;gBACdJ,QAAQ,CAAC,GAAT,GAAe;SADvB,EAEG,GAFH,EAEQ,YAAM;gBACPE,GAAL,CAAS,MAAT,EAAiB,KAAjB;SAHF;;KApBK;aA2BA;WAAA,iBACDF,MADC,EACM;YACPK,MAAM,KAAKP,GAAL,CAAS,KAAT,CAAV;eACOE,SAAQ,CAAR,GAAaK,MAAM,CAAnB,GAAyBL,UAASK,GAAT,GAAe,CAAf,GAAmBL,MAAnD;OAHK;SAAA,eAKHA,KALG,EAKI;aACJE,GAAL,CAAS,OAAT,EAAkB,KAAKF,KAAL,CAAWA,KAAX,CAAlB;OANK;UAAA,kBAQA;aACAM,GAAL,CAAS,KAAKR,GAAL,CAAS,OAAT,IAAoB,CAA7B;OATK;UAAA,kBAWA;aACAQ,GAAL,CAAS,KAAKR,GAAL,CAAS,OAAT,IAAoB,CAA7B;;KAvCK;QAAA,kBA0CF;UACDO,MAAM,KAAKF,EAAL,CAAQ,SAAR,EAAmBI,MAA7B;WACKL,GAAL,CAAS,KAAT,EAAgBG,GAAhB;WACKF,EAAL,CAAQ,IAAR,EAAcK,GAAd,CAAkB,OAAlB,EAA2B,MAAMH,GAAN,GAAY,GAAvC;WACKF,EAAL,CAAQ,SAAR,EAAmBK,GAAnB,CAAuB,OAAvB,EAAgC,MAAMH,GAAN,GAAY,GAA5C;;GA9CG,CAAP;;;;;"}