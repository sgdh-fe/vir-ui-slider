{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import Vir from 'vir'\n\nexport default function (options = {}) {\n  let {\n    wrapperSelector = 'ul',\n      slideSelector = 'ul > li',\n      nextSelector = '.next',\n      prevSelector = '.prev'\n  } = options\n\n  return Vir({\n    data: {\n      index: 0,\n      lock: false\n    },\n    events: {\n      ['click->' + nextSelector]: 'next',\n      ['click->' + prevSelector]: 'prev'\n    },\n    validate: {\n      index() {\n        if (this.get('lock')) {\n          return false\n        }\n      }\n    },\n    watch: {\n      index(result) {\n        let index = result.value\n        this.set('lock', true)\n        this.$$(wrapperSelector).animate({\n          left: index * -100 + '%'\n        }, 500, () => {\n          this.set('lock', false)\n        })\n      }\n    },\n    methods: {\n      index(index) {\n        let len = this.get('len')\n        return index < 0 ? (len - 1) : (index >= len ? 0 : index)\n      },\n      run(index) {\n        this.set('index', this.index(index))\n      },\n      prev() {\n        this.run(this.get('index') - 1)\n      },\n      next() {\n        this.run(this.get('index') + 1)\n      }\n    },\n    init() {\n      let len = this.$$(slideSelector).length\n      this.set('len', len / 1)\n      this.$$(wrapperSelector).css('width', 100 * len / 1 + '%')\n      this.$$(slideSelector).css('width', 100 / len + '%')\n    }\n  })\n}"],"names":["options","wrapperSelector","slideSelector","nextSelector","prevSelector","Vir","get","result","index","value","set","$$","animate","len","run","length","css"],"mappings":";;;;;;;;;;;;;;;AAEA,YAAe,YAAwB;;;MAAdA,OAAc,uEAAJ,EAAI;8BAMjCA,OANiC,CAEnCC,eAFmC;MAEnCA,eAFmC,yCAEjB,IAFiB;8BAMjCD,OANiC,CAGjCE,aAHiC;MAGjCA,aAHiC,yCAGjB,SAHiB;8BAMjCF,OANiC,CAIjCG,YAJiC;MAIjCA,YAJiC,yCAIlB,OAJkB;8BAMjCH,OANiC,CAKjCI,YALiC;MAKjCA,YALiC,yCAKlB,OALkB;;;SAQ9BC,IAAI;UACH;aACG,CADH;YAEE;KAHC;mCAMN,YAAYF,YADf,IAC8B,MAD9B,UAEG,YAAYC,YAFf,IAE8B,MAF9B,UALS;cASC;WAAA,mBACA;YACF,KAAKE,GAAL,CAAS,MAAT,CAAJ,EAAsB;iBACb,KAAP;;;KAZG;WAgBF;WAAA,iBACCC,MADD,EACS;;;YACRC,QAAQD,OAAOE,KAAnB;aACKC,GAAL,CAAS,MAAT,EAAiB,IAAjB;aACKC,EAAL,CAAQV,eAAR,EAAyBW,OAAzB,CAAiC;gBACzBJ,QAAQ,CAAC,GAAT,GAAe;SADvB,EAEG,GAFH,EAEQ,YAAM;gBACPE,GAAL,CAAS,MAAT,EAAiB,KAAjB;SAHF;;KApBK;aA2BA;WAAA,iBACDF,MADC,EACM;YACPK,MAAM,KAAKP,GAAL,CAAS,KAAT,CAAV;eACOE,SAAQ,CAAR,GAAaK,MAAM,CAAnB,GAAyBL,UAASK,GAAT,GAAe,CAAf,GAAmBL,MAAnD;OAHK;SAAA,eAKHA,KALG,EAKI;aACJE,GAAL,CAAS,OAAT,EAAkB,KAAKF,KAAL,CAAWA,KAAX,CAAlB;OANK;UAAA,kBAQA;aACAM,GAAL,CAAS,KAAKR,GAAL,CAAS,OAAT,IAAoB,CAA7B;OATK;UAAA,kBAWA;aACAQ,GAAL,CAAS,KAAKR,GAAL,CAAS,OAAT,IAAoB,CAA7B;;KAvCK;QAAA,kBA0CF;UACDO,MAAM,KAAKF,EAAL,CAAQT,aAAR,EAAuBa,MAAjC;WACKL,GAAL,CAAS,KAAT,EAAgBG,MAAM,CAAtB;WACKF,EAAL,CAAQV,eAAR,EAAyBe,GAAzB,CAA6B,OAA7B,EAAsC,MAAMH,GAAN,GAAY,CAAZ,GAAgB,GAAtD;WACKF,EAAL,CAAQT,aAAR,EAAuBc,GAAvB,CAA2B,OAA3B,EAAoC,MAAMH,GAAN,GAAY,GAAhD;;GA9CG,CAAP;;;;;"}